(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{18:function(e,a,r){},20:function(e,a,r){"use strict";r.r(a);var c=r(8),t=r.n(c),n=(r(18),r(4)),l=r(2),s=r(1),u=r(3),i=r.n(u),d=r(6),o=r.n(d),j=r(0),b=function(e){return Object(j.jsx)("p",{className:!1===e.isValid?o.a.error:o.a.noError,children:"Incomplete"})},p={username:"",cardNumber:"",expMonth:"",expYear:"",cvc:"",usernameIsValid:null,cardNumberIsValid:null,expMonthIsValid:null,expYearIsValid:null,cvcIsValid:null},x=function(e,a){switch(a.type){case"usernameInput":return Object(s.a)(Object(s.a)({},e),{},{username:a.value,usernameIsValid:a.value.length>0});case"cardNumber":var r=a.value.replace(/\D/g,"").split("").reduce((function(e,a,r){return 0!==r&&r%4===0&&(e+=" "),e+a}),"");return Object(s.a)(Object(s.a)({},e),{},{cardNumber:r,cardNumberIsValid:19===r.length||null});case"expMonth":var c=a.value.replace(/\D/g,"");return parseInt(c)>12&&(c=""),Object(s.a)(Object(s.a)({},e),{},{expMonth:c,expMonthIsValid:c>0||null});case"expYear":var t=a.value.replace(/\D/g,"");return Object(s.a)(Object(s.a)({},e),{},{expYear:t,expYearIsValid:parseInt(t)>0&&2===t.length||null});case"cvc":return Object(s.a)(Object(s.a)({},e),{},{cvc:a.value.replace(/\D/g,""),cvcIsValid:3===a.value.length||null});case"validate-username":return Object(s.a)(Object(s.a)({},e),{},{usernameIsValid:e.username.length>0});case"validate-cardNumber":return Object(s.a)(Object(s.a)({},e),{},{cardNumberIsValid:19===e.cardNumber.length});case"validate-expMonth":return Object(s.a)(Object(s.a)({},e),{},{expMonthIsValid:e.expMonth>0&&e.expMonth<=12});case"validate-expYear":return Object(s.a)(Object(s.a)({},e),{},{expYearIsValid:e.expYear>0&&2===e.expYear.length});case"validate-cvc":return Object(s.a)(Object(s.a)({},e),{},{cvcIsValid:e.cvc>0&&3===e.cvc.length});default:return e}},m=function(e){var a=Object(l.useReducer)(x,p),r=Object(n.a)(a,2),c=r[0],t=r[1],s=Object(l.useRef)(),u=Object(l.useRef)(),d=Object(l.useRef)(),o=Object(l.useRef)(),m=Object(l.useRef)(),h=function(e){t({type:"validate-".concat(e.target.id)})};return Object(l.useEffect)((function(){e.submitData(c)}),[c,e]),Object(j.jsxs)("form",{onSubmit:function(a){return a.preventDefault(),c.usernameIsValid?c.cardNumberIsValid?c.expMonthIsValid?c.expYearIsValid?c.cvcIsValid?void e.onCompletion(!0):m.current.focus():o.current.focus():d.current.focus():u.current.focus():s.current.focus()},className:i.a.form,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"username",children:"cardholder name"}),Object(j.jsx)("input",{className:!1===c.usernameIsValid&&i.a.error,ref:s,type:"text",id:"username",maxLength:"30",onChange:function(){console.log("username changed"),t({type:"usernameInput",value:s.current.value})},onBlur:h,value:c.username,placeholder:"e.g. Jane Appleseed"}),Object(j.jsx)(b,{isValid:c.usernameIsValid})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"cardNumber",children:"card number"}),Object(j.jsx)("input",{className:!1===c.cardNumberIsValid&&i.a.error,ref:u,type:"text",id:"cardNumber",maxLength:"19",onChange:function(){console.log("cardnumber changed"),t({type:"cardNumber",value:u.current.value})},onBlur:h,value:c.cardNumber,placeholder:"e.g. 1234 5678 9123 0000"}),Object(j.jsx)(b,{isValid:c.cardNumberIsValid})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"expMonth",children:"Expiry date"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{className:!1===c.expMonthIsValid&&i.a.error,ref:d,type:"text",id:"expMonth",maxLength:"2",onChange:function(){t({type:"expMonth",value:d.current.value})},onBlur:h,value:c.expMonth,placeholder:"MM"}),Object(j.jsx)("input",{className:!1===c.expYearIsValid&&i.a.error,ref:o,type:"text",id:"expYear",maxLength:"2",onChange:function(){t({type:"expYear",value:o.current.value})},onBlur:h,value:c.expYear,placeholder:"YY"})]}),Object(j.jsx)(b,{isValid:c.expMonthIsValid&&c.expYearIsValid})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"cvc",children:"cvc"}),Object(j.jsx)("input",{className:!1===c.cvcIsValid&&i.a.error,ref:m,type:"text",id:"cvc",maxLength:"3",onChange:function(){t({type:"cvc",value:m.current.value})},onBlur:h,value:c.cvc,placeholder:"e.g. 123"}),Object(j.jsx)(b,{isValid:c.cvcIsValid})]}),Object(j.jsx)("button",{children:"Confirm"})]})},h=r.p+"static/media/card-logo.8ca90365.svg",O=r(5),v=r.n(O),f=function(e){return Object(j.jsxs)("div",{className:v.a["card-front"],children:[Object(j.jsx)("img",{src:h,alt:"logo"}),Object(j.jsx)("p",{children:e.data.cardNumber||"0000 0000 0000 0000"}),Object(j.jsx)("p",{children:e.data.username||"Jane Appleseed"}),Object(j.jsxs)("p",{children:[e.data.expMonth||"00","/",e.data.expYear||"00"," "]})]})},g=function(e){return Object(j.jsx)("div",{className:v.a["card-back"],children:Object(j.jsx)("p",{children:e.data||"000"})})},I=r(9),V=r.n(I),N=r.p+"static/media/icon-complete.8fd757c0.svg",_=function(e){return Object(j.jsxs)("div",{className:V.a.confirmed,children:[Object(j.jsx)("img",{src:N,alt:"completed"}),Object(j.jsx)("h1",{children:"Thank you!"}),Object(j.jsx)("p",{children:"We've added your card details"}),Object(j.jsx)("button",{onClick:function(){e.onCompletion(!1)},children:"Continue"})]})};var M=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),r=a[0],c=a[1],t=Object(l.useState)({username:"jane",cardNumber:"0000 0000 0000 0000",expMonth:"00",expYear:"00",cvc:"000"}),s=Object(n.a)(t,2),u=s[0],i=s[1],d=function(e){c(e)};return Object(j.jsxs)("main",{children:[Object(j.jsxs)("div",{className:"card-container",children:[Object(j.jsx)(f,{data:u}),Object(j.jsx)(g,{data:u.cvc})]}),Object(j.jsx)("div",{className:"form-container",children:r?Object(j.jsx)(_,{onCompletion:d}):Object(j.jsx)(m,{onCompletion:d,submitData:function(e){i(e)}})})]})};t.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(M,{}))},3:function(e,a,r){e.exports={error:"Form_error__2ZwuW",form:"Form_form__1zRvZ"}},5:function(e,a,r){e.exports={"card-front":"Card_card-front__EstlR","card-back":"Card_card-back__3TuZU"}},6:function(e,a,r){e.exports={error:"Error_error__2Ym5D",noError:"Error_noError__2XGTI"}},9:function(e,a,r){e.exports={confirmed:"Complete_confirmed__1KZm-"}}},[[20,1,2]]]);
//# sourceMappingURL=main.33775c69.chunk.js.map